<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Portal RRHH - Login</title>
</head>
<body>
  <h2>Login de Portal RRHH</h2>

  <h3>Empleado</h3>
  <form onsubmit="return loginEmpleado()">
    <input type="email" id="emailEmpleado" placeholder="Correo" required>
    <input type="text" id="rfcEmpleado" placeholder="RFC" required>
    <button type="submit">Entrar como empleado</button>
  </form>

  <h3>Administrador</h3>
  <form onsubmit="return loginAdmin()">
    <input type="email" id="emailAdmin" placeholder="Correo admin" required>
    <input type="password" id="passAdmin" placeholder="Contraseña" required>
    <button type="submit">Entrar como admin</button>
  </form>

  <script>
    const scriptURL = "https://script.google.com/macros/s/AKfycbxQAYsul69mwg6Zx1KLJsilhJndMU6a3UR4q-6mLF1SsldNX1jpv8HMNEzbpaxF7Jbr/exec"; // tu URL de Web App

    function loginEmpleado() {
      const email = document.getElementById("emailEmpleado").value;
      const rfc = document.getElementById("rfcEmpleado").value;

      fetch(`${scriptURL}?action=loginEmpleado&email=${email}&rfc=${rfc}`)
        .then(res => res.json())
        .then(data => {
          if (data.success) {
            sessionStorage.setItem("empleado", JSON.stringify(data.usuario));
            window.location.href = "panel-empleado.html";
          } else {
            alert("Correo o RFC incorrectos.");
          }
        });

      return false;
    }

    function loginAdmin() {
      const email = document.getElementById("emailAdmin").value;
      const pass = document.getElementById("passAdmin").value;

      fetch(`${scriptURL}?action=loginAdmin&email=${email}&pass=${pass}`)
        .then(res => res.json())
        .then(data => {
          if (data.success) {
            sessionStorage.setItem("admin", JSON.stringify(data.usuario));
            window.location.href = "panel-admin.html";
          } else {
            alert("Correo o contraseña incorrectos.");
          }
        });

      return false;
    }
  </script>
</body>
</html>
