<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Panel del Administrador</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="admin-panel">
  <header class="header">
    <h1>Panel del Administrador</h1>
    <div class="user-info" id="userInfo"></div>
    <button onclick="cerrarSesion()" class="logout-btn">Cerrar sesión</button>
  </header>

  <main class="admin-content">
    <section class="card">
      <h2>Gestión de Empleados</h2>
      <p>Aquí puedes revisar y administrar a los empleados registrados.</p>
      <button onclick="verEmpleados()">Ver empleados</button>
    </section>

    <section class="card">
      <h2>Solicitudes</h2>
      <p>Consulta y gestiona las solicitudes enviadas por los empleados.</p>
      <button onclick="verSolicitudes()">Ver solicitudes</button>
    </section>
  </main>

  <script>
    // Cargar datos del usuario desde localStorage
    const usuario = JSON.parse(localStorage.getItem("usuario"));

    if (!usuario || usuario.rol !== "admin") {
      window.location.href = "index.html"; // Seguridad: redirige si no es admin
    } else {
      document.getElementById("userInfo").innerHTML = `
        <p><strong>${usuario.nombre}</strong></p>
        <p>${usuario.correo}</p>
        <p><small>${usuario.departamento} | ${usuario.puesto}</small></p>
      `;
    }

    function cerrarSesion() {
      localStorage.removeItem("usuario");
      window.location.href = "index.html";
    }

    function verEmpleados() {
      alert("Aquí se mostraría la tabla de empleados (por implementar).");
      // Puedes cargar tabla o redirigir a otra vista si lo deseas
    }

    function verSolicitudes() {
      alert("Aquí se mostrarían las solicitudes de empleados (por implementar).");
      // Aquí podrías mostrar solicitudes o una tabla conectada a Apps Script
    }
  </script>
</body>
</html>