<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Panel del Empleado</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="empleado-panel">
  <header class="header">
    <h1>Bienvenido</h1>
    <div class="user-info" id="userInfo"></div>
    <button onclick="cerrarSesion()" class="logout-btn">Cerrar sesión</button>
  </header>

  <main class="empleado-content">
    <section class="card">
      <h2>Enviar solicitud</h2>
      <p>Envía una solicitud al área administrativa.</p>
      <button onclick="enviarSolicitud()">Enviar solicitud</button>
    </section>

    <section class="card">
      <h2>Mis solicitudes</h2>
      <p>Consulta tus solicitudes previas.</p>
      <button onclick="verMisSolicitudes()">Ver mis solicitudes</button>
    </section>
  </main>

  <script>
    // Cargar datos del usuario desde localStorage
    const usuario = JSON.parse(localStorage.getItem("usuario"));

    if (!usuario || usuario.rol !== "empleado") {
      window.location.href = "index.html"; // Redirigir si no es empleado
    } else {
      document.getElementById("userInfo").innerHTML = `
        <p><strong>${usuario.nombre}</strong></p>
        <p>${usuario.correo}</p>
        <p><small>${usuario.departamento} | ${usuario.puesto}</small></p>
      `;
    }

    function cerrarSesion() {
      localStorage.removeItem("usuario");
      window.location.href = "index.html";
    }

    function enviarSolicitud() {
      alert("Formulario de solicitud en desarrollo...");
      // Aquí podrías abrir un formulario o redirigir
    }

    function verMisSolicitudes() {
      alert("Visualización de solicitudes en desarrollo...");
      // Aquí puedes cargar los datos desde Apps Script y mostrarlos
    }
  </script>
</body>
</html>